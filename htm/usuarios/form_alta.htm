<script src="[JS]jquery.validate.js"></script>

<script type="text/javascript">
	$(document).ready(function(){
		$("#nro_documento").focus();

		$("a#cargar").click(function(e){
			e.preventDefault();
			$("#form_usuarios").submit();
		});

		$("a#cancelar").click(function(){
			IniciarVentana("ventana_opciones", "cerrar");
			$(ventana_opciones).dialog('destroy').remove();
		});

		$("#form_usuarios").validate({
			rules: {
				superuser: {
					required: true
				},
                nombre: {
					required: true
				},
                apellido: {
					required: true
				},
                usuario: {
					required: true
				},
                pass: {
					required: true
				},
                fechanac: {
                    required: true
                }
			},
			messages: {
				superuser: {
					required: "Ingrese Rol"
				},
                nombre: {
					required: "Ingrese Nombre"
				},
                apellido: {
					required: "Ingrese Apellido"
				},
                usuario: {
					required: "Ingrese Usuario"
				},
                pass: {
					required: "Ingrese Contrase&ntilde;a"
				},
                fechanac: {
                    requied: "Ingrese la fecha de nacimiento"
                }
			},
			submitHandler: function(){
				var variables = $("#form_usuarios").serialize();
				$.ajax({
					type: "POST",
					url: "[URL]ajax/altas.php",
					data: {variables: variables, tabla: "[TABLA]"},
					beforeSend: function() {
						$("#mje").html("Enviando informaci√≥n...");
					},
					success: function(requestData){
						var rta = requestData;

						alert ("Usuario Cargado Correctamente.");
						IniciarVentana("ventana_opciones", "cerrar");
						TableUsuarios.fnDraw();
						$(ventana_opciones).dialog('destroy').remove();
					},
					complete: function(requestData, exito){},
					error: function (){
						alert ("Ocurri&oacute; un error. Vuelva a Intentarlo.");
					}
				});
			}
		});
	});
</script>

<div id="panel_alta">
    <form name="form_usuarios" id="form_usuarios" class="jNice">
        <fieldset>
            <div class="bloque">
                <label>Rol: </label>
                [DROP_ROLES]
            </div>
            <div class="bloque">
                <label>Nombre: </label>
                <input type="text" class="text-long" name="nombres" style="text-transform:none!important;" />
            </div>
            <div class="bloque">
                <label>Apellido: </label>
                <input type="text" class="text-long" name="apellidos" style="text-transform:none!important;" />
            </div>
            <div class="bloque">
                <label>Fecha de nacimiento: </label>
                <input type="text" class="text-long datepicker" name="fechanac" />
            </div>
            <div class="bloque">
                <label>Usuario: </label>
                <input type="text" class="text-long" name="usuario" style="text-transform:lowercase!important;" />
            </div>
            <div class="bloque">
                <label>Contrase&ntilde;a: </label>
                <input type="text" class="text-long" name="pass" style="text-transform:none!important;" />
            </div>
            <div class="bloque botones">
                <a href="#" id="cargar" class="boton_gris">Cargar</a>
                <a href="#" id="cancelar" class="boton_gris">Cancelar</a>
            </div>
        </fieldset>
    </form>
</div>
<script>
$(function(){
    $(".datepicker").datepicker({dateFormat: 'dd/mm/yy', changeMonth: true, changeYear: true, yearRange: '-100:+0'});
});
</script>